{% extends "base.html" %}

{% block title %}{% if product %}Edit{% else %}Add{% endif %} Product - Admin{% endblock %}

{% block content %}
<h1>{% if product %}Edit{% else %}Add{% endif %} Product</h1>
<form method="post" enctype="multipart/form-data" class="product-form">
    <label for="name">Name:</label>
    <input type="text" name="name" value="{{ product.name if product else '' }}" required>
    
    <label for="description">Description:</label>
    <textarea name="description" required>{{ product.description if product else '' }}</textarea>
    
    <label for="price">Price:</label>
    <input type="number" step="0.01" name="price" value="{{ product.price if product else '' }}" required>
    
    <label for="image">Image:</label>
    <input type="file" name="image" accept="image/*">
    {% if product and product.image %}
    <img src="{{ url_for('uploaded_file', filename=product.image) }}" alt="Current image" style="max-width: 200px;">
    {% endif %}
    
    <label for="availability">Availability:</label>
    <select name="availability" required>
        <option value="available" {% if product and product.availability == 'available' %}selected{% endif %}>Available</option>
        <option value="out_of_stock" {% if product and product.availability == 'out_of_stock' %}selected{% endif %}>Out of Stock</option>
        <option value="made_to_order" {% if product and product.availability == 'made_to_order' %}selected{% endif %}>Made to Order</option>
    </select>
    
    <label for="size">Size:</label>
    <input type="text" name="size" value="{{ product.size if product else '' }}">
    
    <label for="color">Color:</label>
    <input type="text" name="color" value="{{ product.color if product else '' }}">
    
    <button type="submit" class="btn">Save</button>
    <a href="{{ url_for('admin_dashboard') }}" class="btn secondary">Cancel</a>
</form>
{% endblock %}